"use strict";var e=require("vue");exports.useWorker=function(n){const t=e.ref(!1);let r=null;const a=()=>{r&&(r.terminate(),r=null,t.value=!1)};return e.onMounted((()=>{})),e.onUnmounted((()=>{a()})),[(...e)=>(r||(r=(()=>{const e=n.toString(),t=new Blob([`onmessage = async (e) => { postMessage(await (${e})(...e.data)); };`],{type:"application/javascript"});return new Worker(URL.createObjectURL(t))})()),t.value=!0,new Promise(((n,a)=>{r&&(r.onmessage=e=>{t.value=!1,n(e.data)},r.onerror=e=>{t.value=!1,a(e)},r.postMessage(e))}))),{isRunning:t,terminateWorker:a}]};
